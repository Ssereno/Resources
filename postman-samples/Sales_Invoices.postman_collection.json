{
	"info": {
		"_postman_id": "73bef884-a5e7-de36-8371-57e546e27614",
		"name": "Sales_Invoices",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Invoices",
			"item": [
				{
					"name": "List All Invoices",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/api/{{tenant}}/{{organization}}/billing/invoices/",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"{{tenant}}",
								"{{organization}}",
								"billing",
								"invoices",
								""
							]
						},
						"description": "Obter a lista de faturas (billing)"
					},
					"response": []
				},
				{
					"name": "List Invoice by key",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/api/{{tenant}}/{{organization}}/billing/invoices/{companyKey}/{documentType}/{serie}/{seriesNumber}",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"{{tenant}}",
								"{{organization}}",
								"billing",
								"invoices",
								"{companyKey}",
								"{documentType}",
								"{serie}",
								"{seriesNumber}"
							]
						},
						"description": "Obter os dados de uma fatura pela key"
					},
					"response": []
				},
				{
					"name": "salesCore invoiceTypes",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/api/{{tenant}}/{{organization}}/salesCore/invoiceTypes",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"{{tenant}}",
								"{{organization}}",
								"salesCore",
								"invoiceTypes"
							]
						}
					},
					"response": []
				},
				{
					"name": "Invoice by id",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/api/{{tenant}}/{{organization}}/billing/invoices/{id}",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"{{tenant}}",
								"{{organization}}",
								"billing",
								"invoices",
								"{id}"
							]
						},
						"description": "Obter os dados de uma fatura pela key"
					},
					"response": []
				},
				{
					"name": "Invoice note",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\"Vamos Jantar\""
						},
						"url": {
							"raw": "{{url}}/api/{{tenant}}/{{organization}}/billing/invoices/{companyKey}/{documentType}/{serie}/{seriesNumber}/noteToRecipient",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"{{tenant}}",
								"{{organization}}",
								"billing",
								"invoices",
								"{companyKey}",
								"{documentType}",
								"{serie}",
								"{seriesNumber}",
								"noteToRecipient"
							]
						},
						"description": "Obter os dados de uma fatura pela key"
					},
					"response": []
				},
				{
					"name": "Billing - Get Invoices (OData)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/api/{{tenant}}/{{organization}}/billing/invoices/odata?$select=Company, PostingDate, PayableAmountAmount, ExchangeRate, CompanyDescription, CompanyId, BuyerCustomerPartyBaseEntityId, BuyerCustomerParty , BuyerCustomerPartyName, Currency, Id&$filter=day(PostingDate) lt 17 and month(PostingDate) eq 11 and year(PostingDate) eq 2018 and Company eq 'Default' and IsDeleted eq false&$inlinecount=allpages&$orderby=PostingDate",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"{{tenant}}",
								"{{organization}}",
								"billing",
								"invoices",
								"odata"
							],
							"query": [
								{
									"key": "$select",
									"value": "Company, PostingDate, PayableAmountAmount, ExchangeRate, CompanyDescription, CompanyId, BuyerCustomerPartyBaseEntityId, BuyerCustomerParty , BuyerCustomerPartyName, Currency, Id"
								},
								{
									"key": "$filter",
									"value": "day(PostingDate) lt 17 and month(PostingDate) eq 11 and year(PostingDate) eq 2018 and Company eq 'Default' and IsDeleted eq false"
								},
								{
									"key": "$inlinecount",
									"value": "allpages"
								},
								{
									"key": "$orderby",
									"value": "PostingDate"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Billing - DELETE Invoices",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/api/{{tenant}}/{{organization}}/billing/invoices/{id}",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"{{tenant}}",
								"{{organization}}",
								"billing",
								"invoices",
								"{id}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Min - Invoice",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"buyerCustomerParty\": \"INDIF\",\r\n\t\t\"documentLines\": [\r\n\t{\r\n\t\t\"salesItem\": \"ART01\",\r\n\t\t\"unitPrice\": {\r\n          \"amount\": 0.4187\r\n        }\r\n\t},\r\n\t{\r\n\t\t\"salesItem\": \"ART01\",\r\n\t\t\"unitPrice\": {\r\n          \"amount\": 100\r\n        }\r\n\t}\r\n\t]\r\n}"
						},
						"url": {
							"raw": "{{url}}/api/{{tenant}}/{{organization}}/billing/invoices",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"{{tenant}}",
								"{{organization}}",
								"billing",
								"invoices"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create invoice",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"documentType\": \"FA\",\n    \"serie\": \"2018\",\n    \"seriesNumber\": 1,\n    \"company\": \"Default\",\n    \"paymentTerm\": \"01\",\n    \"paymentMethod\": \"NUM\",\n    \"currency\": \"EUR\",\n    \"documentDate\": \"2018-12-18T00:00:00\",\n    \"postingDate\": \"2018-12-18T00:00:00\",\n    \"buyerCustomerParty\": \"SOFRIO\",\n    \"buyerCustomerPartyName\": \"Sofrio, Lda\",\n    \"accountingPartyName\": \"Sofrio, Lda.\",\n    \"accountingPartyTaxId\": \"593362462\",\n    \"exchangeRate\": 1,\n    \"discount\": 0,\n    \"loadingCountry\": \"PT\",\n    \"unloadingCountry\": \"PT\",\n    \"isExternal\": false,\n    \"isManual\": false,\n    \"isSimpleInvoice\": false,\n    \"isWsCommunicable\": false,\n    \"deliveryTerm\": \"V-VIATURA\",\n    \"documentLines\": [\n      {\n        \"salesItem\": \"ARECA\",\n        \"description\":\"Palmeira areca em vaso grês\",\n        \"quantity\": 1,\n        \"unitPrice\": {\n                \"amount\": 65,\n                \"baseAmount\": 65,\n                \"reportingAmount\": 65,\n                \"fractionDigits\": 2,\n                \"symbol\": \"€\"\n            },\n        \"unit\": \"UN\",\n        \"itemTaxSchema\": \"IVA-TN\",\n        \"deliveryDate\": \"2018-01-04T00:00:00\"\n      }\n    ],\n    \"WTaxTotal\" : { \"amount\": 0,\n        \"baseAmount\": 0,\n        \"reportingAmount\": 0,\n        \"fractionDigits\": 2,\n        \"symbol\": \"€\"},\n        \"TotalLiability\" : {\n          \"baseAmount\": 0,\n          \"reportingAmount\": 0,\n          \"fractionDigits\": 2,\n          \"symbol\": \"€\"\n          }\n }"
						},
						"url": {
							"raw": "{{url}}/api/{{tenant}}/{{organization}}/billing/invoices/",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"{{tenant}}",
								"{{organization}}",
								"billing",
								"invoices",
								""
							]
						},
						"description": "Criação de fatura com uma linha"
					},
					"response": []
				},
				{
					"name": "Sales - Create InvoiceType (Add series type to Invoice Type)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\n       {\n           \"serie\": \"2020\"\n       }\n"
						},
						"url": {
							"raw": "{{url}}/api/{{tenant}}/{{organization}}/salesCore/invoiceTypes/{companyKey}/{documentType}/documentTypeSeries",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"{{tenant}}",
								"{{organization}}",
								"salesCore",
								"invoiceTypes",
								"{companyKey}",
								"{documentType}",
								"documentTypeSeries"
							]
						},
						"description": "Criação de fatura com uma linha"
					},
					"response": []
				},
				{
					"name": "Create InvoiceType Min",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company\": \"Default\",\n    \"typeKey\": \"FA3\",\n    \"fiscalDocumentType\": \"FS\",\n    \"documentTypeSeries\": [\n    {\n        \"serie\": \"2018\",\n        \"isDefault\": true\n    }\n\t]\n}"
						},
						"url": {
							"raw": "{{url}}/api/{{tenant}}/{{organization}}/salesCore/invoiceTypes",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"{{tenant}}",
								"{{organization}}",
								"salesCore",
								"invoiceTypes"
							]
						}
					},
					"response": []
				},
				{
					"name": "List All invoice types",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/api/{{tenant}}/{{organization}}/salesCore/invoiceTypes",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"{{tenant}}",
								"{{organization}}",
								"salesCore",
								"invoiceTypes"
							]
						},
						"description": "Obtenção de todos os tipos de faturas"
					},
					"response": []
				},
				{
					"name": "List invoice type by id",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/api/{{tenant}}/{{organization}}/salesCore/invoiceTypes/{id}",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"{{tenant}}",
								"{{organization}}",
								"salesCore",
								"invoiceTypes",
								"{id}"
							]
						},
						"description": "Obtenção dos dados do tipo de encomenda por id"
					},
					"response": []
				},
				{
					"name": "Create invoice type",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"company\": \"Default\",\n    \"typeKey\": \"FAT\",\n    \"cashInvoice\": false,\n    \"accountingSchema\": 1,\n    \"isPortugueseCompany\": true,\n    \"fiscalDocumentType\": \"FT\",\n    \"documentTypeSeries\": [\n        {\n        \t\"numberOfCopies\": 2,\n        \t\"isDefault\": true,\n        \t\"taxIncluded\": false,\n        \t\"isManual\": false,\n            \"isExternal\": false,\n            \"serie\": \"2018\",\n            \"communicationType\": 2\n        }\n    ]\n  }"
						},
						"url": {
							"raw": "{{url}}/api/{{tenant}}/{{organization}}/salesCore/invoiceTypes/",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"{{tenant}}",
								"{{organization}}",
								"salesCore",
								"invoiceTypes",
								""
							]
						},
						"description": "Criação de tipo de fatura"
					},
					"response": []
				},
				{
					"name": "Billing - Get Invoices (OData)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{url}}/api/{{tenant}}/{{organization}}/billing/invoices/odata?$filter=DocumentType eq 'FA'&$orderby=LoadingCityName",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"{{tenant}}",
								"{{organization}}",
								"billing",
								"invoices",
								"odata"
							],
							"query": [
								{
									"key": "$filter",
									"value": "DocumentType eq 'FA'"
								},
								{
									"key": "$orderby",
									"value": "LoadingCityName"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	]
}